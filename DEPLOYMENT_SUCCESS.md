# ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ AI Video Generator Bot

## –î–∞—Ç–∞: 12 –Ω–æ—è–±—Ä—è 2025

## –°—Ç–∞—Ç—É—Å: –£–°–ü–ï–®–ù–û –ó–ê–ü–£–©–ï–ù

### –ß—Ç–æ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   - Flask 3.0.0
   - python-telegram-bot 20.7
   - openai 1.6.1
   - celery 5.3.4
   - redis 5.0.1
   - –∏ –¥—Ä—É–≥–∏–µ –∏–∑ requirements.txt

2. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Dockerfile**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg 7.1.2 –∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω curl –¥–ª—è health checks
   - –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤

3. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω docker-compose.yml**
   - –£–±—Ä–∞–Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ version
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É FFmpeg
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã volume –º–∞–ø–ø–∏–Ω–≥–∏

4. ‚úÖ **–°–æ–±—Ä–∞–Ω—ã Docker –æ–±—Ä–∞–∑—ã**
   - video4min-web (Flask + Gunicorn)
   - video4min-worker (Celery Worker)
   - redis:7-alpine

5. ‚úÖ **–ó–∞–ø—É—â–µ–Ω—ã –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã**
   - Redis: –ø–æ—Ä—Ç 6379 (Healthy)
   - Web: –ø–æ—Ä—Ç 5000 (Healthy)
   - Worker: Celery —Å 2 workers (Running)

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

‚úÖ Health endpoint: http://localhost:5000/health
‚úÖ Root endpoint: http://localhost:5000/
‚úÖ Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: PONG
‚úÖ FFmpeg –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: –≤–µ—Ä—Å–∏—è 7.1.2
‚úÖ Celery worker: –≥–æ—Ç–æ–≤ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–¥–∞—á

### –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```
NAME                  STATUS                    PORTS
ai-video-bot-redis    Up (healthy)             0.0.0.0:6379->6379/tcp
ai-video-bot-web      Up (healthy)             0.0.0.0:5000->5000/tcp
ai-video-bot-worker   Up                       -
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env:

- ‚úÖ TELEGRAM_BOT_TOKEN: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ OPENAI_API_KEY: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ OPENAI_ASSISTANT_ID: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ RUNWAY_API_KEY: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ REDIS_URL: redis://localhost:6379/0
- ‚úÖ LOG_LEVEL: DEBUG

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Webhook**
   - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –∏–ª–∏ localtunnel
   - –ö–æ–º–∞–Ω–¥–∞: `ngrok http 5000`
   - –û–±–Ω–æ–≤–∏—Ç—å TELEGRAM_WEBHOOK_URL –≤ .env

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞**
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å /start –±–æ—Ç—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤–∏–¥–µ–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting

3. **–î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω**
   - Render.com (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - Heroku
   - AWS/GCP/Azure

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –õ–æ–≥–∏
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose build
docker-compose up -d
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- üìÑ DOCKER_RUN.md - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å Docker
- üìÑ README.md - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- üìÑ QUICKSTART.md - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–µ–ø–ª–æ—é! üöÄ**
